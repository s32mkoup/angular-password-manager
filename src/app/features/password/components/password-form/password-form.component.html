<div class="form-container">
    <h2 mat-dialog-title>{{ isEditMode ? 'Edit Password' : 'Add New Password' }}</h2>

    <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">
        <mat-form-field appearance="outline">
            <mat-label>Category</mat-label>
            <input matInput placeholder="e.g., Work, Personal" formControlName="category">
            <mat-error *ngIf="isFieldInvalid('category')">
                {{ getErrorMessage('category') }}
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Application</mat-label>
            <input matInput placeholder="e.g., Gmail, Facebook" formControlName="app">
            <mat-error *ngIf="isFieldInvalid('app')">
                {{ getErrorMessage('app') }}
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Username/Email</mat-label>
            <input matInput placeholder="e.g., john@example.com" formControlName="userName">
            <mat-error *ngIf="isFieldInvalid('userName')">
                {{ getErrorMessage('userName') }}
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Password</mat-label>
            <input matInput [type]="hidePassword ? 'password' : 'text'"
                   placeholder="Enter password" formControlName="password">
            <button mat-icon-button matSuffix type="button"
                    (click)="hidePassword = !hidePassword">
                <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-error *ngIf="isFieldInvalid('password')">
                {{ getErrorMessage('password') }}
            </mat-error>
        </mat-form-field>

        <div class="form-actions">
            <button mat-button type="button" (click)="onCancel()">
                Cancel
            </button>
            <button mat-raised-button color="primary" type="submit"
                    [disabled]="passwordForm.invalid">
                {{ isEditMode ? 'Update' : 'Save' }}
            </button>
        </div>
    </form>
</div>